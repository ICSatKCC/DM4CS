<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
<script>// Make *any* pre with class 'sagecell-sage' an executable Sage cell
// Their results will be linked, only within language type
sagecell.makeSagecell({inputLocation: 'pre.sagecell-sage',
                       linked: true,
                       languages: ['sage'],
                       evalButtonText: 'Evaluate (Sage)'});
</script>
</head>
<body class="ignore-math">
<section class="paragraphs"><h4 class="heading"><span class="title">Recursive Binary Search.</span></h4> <div class="para">Unlike the two algorithms above, Binary Search is more commonly implemented as a recursive algorithm. The recursive version we present here is the most common definition.</div> <div class="para">There are two base cases. The first base case is when all possible elements have been compared and the target is not found. This occurs when the <em class="emphasis">begin</em> position is greater than the <em class="emphasis">end</em> position, no elements are left to examine so -1 is returned. The second base case is when the target is found, the middle element is equal to the target and the location of that middle element is returned. There are also two recursive cases, one for if the target is larger than the middle element and one for if the target is smaller than the middle element. If the target is larger than the middle, the recursive call will look at the upper half of the remaining list, if the target is smaller than the middle element, the other recursive call looks at the lower half of the remaining list.</div> <div class="para"><article class="algorithm theorem-like"><h5 class="heading">
<span class="type">Algorithm</span><span class="space"> </span><span class="codenumber">9.2.5</span><span class="period">.</span><span class="space"> </span><span class="title">Recursive Binary Search.</span>
</h5>
<section class="paragraphs"><h6 class="heading"><span class="title">procedure BinarySearch.</span></h6> <div class="para">(<span class="process-math">\(x\text{:}\)</span> target; <span class="process-math">\(\{a_1, a_2, ..., a_n\}\text{:}\)</span> sorted list of items; begin: pos; end: pos)</div> <div class="tabular-box natural-width"><table class="tabular">
<tr><td class="l m b0 r0 l0 t0 lines" colspan="3">mid := (begin + end) / 2</td></tr>
<tr><td class="l m b0 r0 l0 t0 lines" colspan="3">
<em class="alert">if</em> begin &gt; end:</td></tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"></td>
<td class="l m b0 r0 l0 t0 lines" colspan="2">
<em class="alert">return</em> -1</td>
</tr>
<tr><td class="l m b0 r0 l0 t0 lines" colspan="3">
<em class="alert">else if</em> <span class="process-math">\(x = a_{mid}\)</span>
</td></tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"></td>
<td class="l m b0 r0 l0 t0 lines" colspan="2">
<em class="alert">return</em>  mid</td>
</tr>
<tr><td class="l m b0 r0 l0 t0 lines" colspan="3">
<em class="alert">else if</em>  <span class="process-math">\(x &lt; a_{mid}\text{:}\)</span>
</td></tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"></td>
<td class="l m b0 r0 l0 t0 lines" colspan="2">
<em class="alert">return BinarySearch</em> (<span class="process-math">\(x\text{;}\)</span> <span class="process-math">\(\{a_1, a_2, ..., a_n\}\text{;}\)</span> begin; mid-1)</td>
</tr>
<tr><td class="l m b0 r0 l0 t0 lines" colspan="3">
<em class="alert">else</em> { <span class="process-math">\(x &gt; a_{mid}\)</span> }</td></tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"></td>
<td class="l m b0 r0 l0 t0 lines" colspan="2">
<em class="alert">return BinarySearch</em> (<span class="process-math">\(x\text{;}\)</span> <span class="process-math">\(\{a_1, a_2, ..., a_n\}\text{;}\)</span> (mid+1); end)</td>
</tr>
</table></div></section></article></div> <div class="para">In the following implementation of the Binary Search in SageMath, we search within a sorted list of integers. Extra printouts of the list being considered at each step have been added. <article class="note remark-like"><h5 class="heading">
<span class="type">Note</span><span class="space"> </span><span class="codenumber">9.2.6</span><span class="period">.</span>
</h5>The end position is the length of the list - 1 because of 0 indexing.</article>
</div> <pre class="ptx-sagecell sagecell-sage" id="sage-29"><script type="text/x-sage">def BinarySearch(x, aList, begin, end):
    mid = floor((begin + end)/2)
    print('list: ' + str(aList[begin:end+1]))
    print('mid position: '+str(mid))
    if begin > end:
        print('not found')
        return -1
    elif aList[mid] == x:
        print('found ' + str(x) + ' in position '+str(mid))
        return mid
    elif x < aList[mid]:
        print ('target is less than: ' + str(aList[mid]))
        return BinarySearch(x,aList, begin, mid - 1)
    else: # x > aList[mid]
        print ('target is greater than: ' + str(aList[mid]))
        return BinarySearch(x ,aList,mid + 1, end)


s=[1,9,13,16,30,31,32,33,36,37,38,45,49,50,52,61,63,64,69,77,79,80,81,83,86,90,93,96]
t = 37
print("Searching for " + str(t))
BinarySearch(t, s,0,len(s)-1)
</script></pre></section><span class="incontext"><a href="section9_2-Recursive_Algorithms.html#paragraphs-25" class="internal">in-context</a></span>
</body>
</html>
